<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 13.3: Intent-Based Always Blocks — Accelerated HDL for Digital System Design</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/theme/white.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../theme/ucf-hdl.css">
    <style>
        .two-col { display: flex; gap: 2em; }
        .two-col .col { flex: 1; }
        .panel { padding: 1em; border-radius: 8px; }
        .panel-sw { background: #F3E5F5; border: 2px solid #9C27B0; }
        .panel-hw { background: #E3F2FD; border: 2px solid #1565C0; }
        .panel-good { background: #E8F5E9; border: 2px solid #2E7D32; }
        .panel-bad { background: #FFEBEE; border: 2px solid #C62828; }
        .panel-neutral { background: #FFF8E1; border: 2px solid #F9A825; }
        .check { color: #2E7D32; font-weight: 700; }
        .cross { color: #C62828; font-weight: 700; }
    </style>
</head>
<body>
<div class="reveal">
<div class="slides">

<!-- TITLE SLIDE -->
<section class="title-slide" data-background-color="#000000">
    <div style="margin-bottom:1em;">
        <span style="color:#FFC904;font-weight:700;font-size:0.6em;letter-spacing:0.15em;text-transform:uppercase;">
            Day 13 · SystemVerilog for Design
        </span>
    </div>
    <h1 style="color:#FFC904;border-bottom:none;font-size:2.2em;">Intent-Based Always Blocks</h1>
    <p class="subtitle" style="color:#E8E8E4;">Video 3 of 4 · ~12 minutes</p>
    <p class="course-info" style="color:#888;">UCF · Department of ECE</p>
</section>

<section>
    <h2><code>always_ff</code> — Sequential Logic</h2>
    <pre class="synth"><code class="language-verilog" data-noescape>always_ff @(posedge i_clk) begin
    if (i_reset)
        r_count <= '0;          // '0 = all-zeros shorthand
    else
        r_count <= r_count + 1;
end</code></pre>
    <div style="font-size:0.75em;margin-top:0.5em;">
        <p class="fragment"><strong>Compiler enforces:</strong></p>
        <p class="fragment">✓ Must have a clock edge in the sensitivity list</p>
        <p class="fragment">✓ <span style="color:#C62828;">Error</span> if you use blocking assignment (<code>=</code>)</p>
        <p class="fragment">✓ <span style="color:#C62828;">Error</span> if signal is also driven by <code>assign</code> or another <code>always</code></p>
    </div>
    <aside class="notes">always_ff declares intent: I want a flip-flop. The compiler checks: is there a clock edge? Are you using non-blocking assignments? Is this signal driven from only one place? If any check fails, you get a compile error instead of a silent bug.</aside>
</section>
<section>
    <h2><code>always_comb</code> — Combinational Logic</h2>
    <pre class="synth"><code class="language-verilog" data-noescape>always_comb begin
    case (i_opcode)
        2'b00:   o_result = i_a + i_b;
        2'b01:   o_result = i_a - i_b;
        2'b10:   o_result = i_a &amp; i_b;
        default: o_result = i_a | i_b;
    endcase
end</code></pre>
    <div style="font-size:0.75em;margin-top:0.5em;">
        <p class="fragment"><strong>Compiler enforces:</strong></p>
        <p class="fragment">✓ No sensitivity list needed (automatic, stronger than <code>@(*)</code>)</p>
        <p class="fragment">✓ Must use blocking assignment (<code>=</code>)</p>
        <p class="fragment">✓ <span style="color:#C62828;">Error if a latch would be inferred</span> (incomplete assignments)</p>
    </div>
    <div class="fragment golden-rule" style="font-size:0.85em;">
        This is the biggest win. Unintentional latches become <strong>compile-time errors</strong>.
    </div>
    <aside class="notes">always_comb is the biggest safety win. It tells the compiler: this must be purely combinational. If you forget a default assignment and a latch would be inferred, it's a compile-time error — not a synthesis warning you might miss. The entire category of unintentional latch bugs becomes impossible.</aside>
</section>
<section>
    <h2>Side-by-Side Comparison</h2>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:0.5em;">
    <pre class="sim" style="font-size:0.5em;"><code class="language-verilog">// ====== Verilog ======
reg [3:0] r_result;
reg       o_carry;

always @(*) begin
    r_result = 4'b0000;
    o_carry  = 1'b0;
    case (i_opcode)
      2'b00: {o_carry, r_result}
               = i_a + i_b;
      2'b01: {o_carry, r_result}
               = i_a - i_b;
      2'b10: r_result = i_a & i_b;
      2'b11: r_result = i_a | i_b;
    endcase
end
// Forgot defaults? Silent latch.</code></pre>
    <pre class="synth" style="font-size:0.5em;"><code class="language-verilog">// ====== SystemVerilog ======
logic [3:0] result;
logic       carry;

always_comb begin
    result = 4'b0000;
    carry  = 1'b0;
    case (i_opcode)
      2'b00: {carry, result}
               = i_a + i_b;
      2'b01: {carry, result}
               = i_a - i_b;
      2'b10: result = i_a & i_b;
      2'b11: result = i_a | i_b;
    endcase
end
// Forgot defaults? COMPILE ERROR.</code></pre>
    </div>
    <aside class="notes">Side by side, the code looks almost identical. The difference is what happens when you make a mistake. In Verilog, a missing default silently infers a latch. In SystemVerilog with always_comb, it's a compile error. Same code, better safety net.</aside>
</section>
<section>
    <h2>Key Takeaways</h2>
    <div style="margin-top:0.5em;">
        <p class="fragment" style="font-size:0.85em;">
            <span style="color:#FFC904;font-size:1.3em;font-weight:700;">①</span>&ensp;<code>always_ff</code>: enforces clock edge, non-blocking, single driver.
        </p>
        <p class="fragment" style="font-size:0.85em;">
            <span style="color:#FFC904;font-size:1.3em;font-weight:700;">②</span>&ensp;<code>always_comb</code>: auto-sensitivity, blocking, <strong>errors on latch inference</strong>.
        </p>
        <p class="fragment" style="font-size:0.85em;">
            <span style="color:#FFC904;font-size:1.3em;font-weight:700;">③</span>&ensp;<code>always_latch</code>: documents intentional latches (rare).
        </p>
        <p class="fragment" style="font-size:0.85em;">
            <span style="color:#FFC904;font-size:1.3em;font-weight:700;">④</span>&ensp;Same RTL, stronger compiler checking. Bugs found earlier.
        </p>
    </div>
</section>
<section data-background-color="#000000">
    <div style="text-align:center;">
        <p style="color:#FFC904;font-size:0.7em;font-weight:600;letter-spacing:0.1em;text-transform:uppercase;">Up Next</p>
        <h2 style="color:#FFFFFF;font-size:1.8em;"><code>enum</code>, <code>struct</code>, and <code>package</code></h2>
        <p style="color:#E8E8E4;font-size:0.8em;margin-top:0.5em;">Video 4 of 4 · ~15 minutes</p>
        <p style="color:#888;font-size:0.6em;margin-top:2em;">Type safety for FSMs, grouped signals, and shared definitions.</p>
    </div>
</section>


</div></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/reveal.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/plugin/highlight/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/plugin/notes/notes.min.js"></script>
<script>
Reveal.initialize({
    hash: true, slideNumber: 'c/t', showSlideNumber: 'all',
    width: 1280, height: 720, margin: 0.04,
    transition: 'slide', transitionSpeed: 'default', backgroundTransition: 'fade',
    plugins: [ RevealHighlight, RevealNotes ],
});
</script>
</body>
</html>