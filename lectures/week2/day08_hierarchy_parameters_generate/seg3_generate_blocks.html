<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 8.3: Generate Blocks — Accelerated HDL for Digital System Design</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/theme/white.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../theme/ucf-hdl.css">
    <style>
        .two-col { display: flex; gap: 2em; }
        .two-col .col { flex: 1; }
        .panel { padding: 1em; border-radius: 8px; }
        .panel-sw { background: #F3E5F5; border: 2px solid #9C27B0; }
        .panel-hw { background: #E3F2FD; border: 2px solid #1565C0; }
        .panel-good { background: #E8F5E9; border: 2px solid #2E7D32; }
        .panel-bad { background: #FFEBEE; border: 2px solid #C62828; }
        .panel-neutral { background: #FFF8E1; border: 2px solid #F9A825; }
        .check { color: #2E7D32; font-weight: 700; }
        .cross { color: #C62828; font-weight: 700; }
    </style>
</head>
<body>
<div class="reveal">
<div class="slides">

<!-- TITLE SLIDE -->
<section class="title-slide" data-background-color="#000000">
    <div style="margin-bottom:1em;">
        <span style="color:#FFC904;font-weight:700;font-size:0.6em;letter-spacing:0.15em;text-transform:uppercase;">
            Day 8 · Hierarchy, Parameters &amp; Generate
        </span>
    </div>
    <h1 style="color:#FFC904;border-bottom:none;font-size:2.2em;">Generate Blocks</h1>
    <p class="subtitle" style="color:#E8E8E4;">Video 3 of 4 · ~12 minutes</p>
    <p class="course-info" style="color:#888;">UCF · Department of ECE</p>
</section>

<section>
    <h2><code>for</code>-Generate: Hardware Replication</h2>
    <pre class="synth"><code class="language-verilog" data-noescape>module parallel_debounce #(
    parameter N_BUTTONS     = 4,
    parameter CLKS_TO_STABLE = 250_000
)(
    input  wire                   i_clk,
    input  wire [N_BUTTONS-1:0]   i_buttons,
    output wire [N_BUTTONS-1:0]   o_clean
);
<span class="fragment">
    genvar g;
    generate
        for (g = 0; g < N_BUTTONS; g = g + 1) begin : gen_debounce
            debounce #(.CLKS_TO_STABLE(CLKS_TO_STABLE)) debounce_inst (
                .i_clk    (i_clk),
                .i_bouncy (i_buttons[g]),
                .o_clean  (o_clean[g])
            );
        end
    endgenerate</span>
endmodule</code></pre>
    <div class="fragment callout" style="font-size:0.7em;">
        <code>generate for</code> creates N identical instances at <strong>elaboration time</strong> — not a runtime loop. Change <code>N_BUTTONS</code> and the hardware scales automatically.
    </div>
    <aside class="notes">Generate-for creates multiple hardware instances at compile time. This isn't a runtime loop — it's a macro that stamps out N copies of the debounce module. Change the parameter and the hardware scales.</aside>
</section>
<section>
    <h2><code>if</code>-Generate: Conditional Hardware</h2>
    <pre class="synth"><code class="language-verilog" data-noescape>module uart_tx #(
    parameter INCLUDE_PARITY = 0
)(
    input wire i_clk, /* ... */
);
<span class="fragment">
    generate
        if (INCLUDE_PARITY) begin : gen_parity
            // Parity logic exists ONLY when parameter is set
            wire w_parity = ^i_data;  // XOR reduction
            // ... include parity bit in frame ...
        end else begin : gen_no_parity
            // No parity — simpler frame
        end
    endgenerate</span>
endmodule</code></pre>
    <div class="fragment callout" style="font-size:0.75em;">
        <code>if</code>-generate includes or excludes hardware based on parameters. Like <code>#ifdef</code> in C, but for hardware. Zero cost when disabled — the logic doesn't exist.
    </div>
    <aside class="notes">If-generate conditionally includes hardware based on parameters. Like ifdef in C but for hardware. When disabled, the logic simply doesn't exist — zero gates, zero area, zero timing impact.</aside>
</section>
<section>
    <h2>Generate vs. Runtime</h2>
    <table style="margin-top:0.5em;font-size:0.7em;">
        <thead><tr><th></th><th>Generate (<code>generate for</code>)</th><th>Runtime (<code>for</code> in <code>always</code>)</th></tr></thead>
        <tbody>
            <tr><td>When</td><td>Elaboration (compile) time</td><td>Simulation / hardware execution</td></tr>
            <tr><td>Loop variable</td><td><code>genvar</code></td><td><code>integer</code></td></tr>
            <tr><td>Creates</td><td>Module instances, wires</td><td>Sequential operations</td></tr>
            <tr><td>Synthesizable?</td><td>Yes (stamps out hardware)</td><td>Only in <code>always</code> blocks</td></tr>
        </tbody>
    </table>
    <div class="fragment callout-warning" style="font-size:0.75em;">
        Don't confuse them. <code>generate for</code> makes <strong>parallel hardware</strong>. A <code>for</code> in <code>always</code> is loop <strong>unrolling</strong> — still synthesizable, but different concept.
    </div>
    <aside class="notes">Critical distinction. Generate-for creates parallel hardware instances — genvar, module instantiation. A for loop inside always is sequential loop unrolling. Both are synthesizable but they're fundamentally different.</aside>
</section>
<section>
    <h2>Key Takeaways</h2>
    <div style="margin-top:0.5em;">
        <p class="fragment" style="font-size:0.85em;">
            <span style="color:#FFC904;font-size:1.3em;font-weight:700;">①</span>&ensp;<code>generate for</code>: stamp out N copies of hardware. Uses <code>genvar</code>.
        </p>
        <p class="fragment" style="font-size:0.85em;">
            <span style="color:#FFC904;font-size:1.3em;font-weight:700;">②</span>&ensp;<code>generate if</code>: conditionally include/exclude hardware. Zero cost when off.
        </p>
        <p class="fragment" style="font-size:0.85em;">
            <span style="color:#FFC904;font-size:1.3em;font-weight:700;">③</span>&ensp;Always name generate blocks: <code>begin : gen_name</code>.
        </p>
        <p class="fragment" style="font-size:0.85em;">
            <span style="color:#FFC904;font-size:1.3em;font-weight:700;">④</span>&ensp;Generate ≠ runtime loops. Generate = compile-time hardware replication.
        </p>
    </div>
</section>
<section data-background-color="#000000">
    <div style="text-align:center;">
        <p style="color:#FFC904;font-size:0.7em;font-weight:600;letter-spacing:0.1em;text-transform:uppercase;">Up Next</p>
        <h2 style="color:#FFFFFF;font-size:1.8em;">Design for Reuse</h2>
        <p style="color:#E8E8E4;font-size:0.8em;margin-top:0.5em;">Video 4 of 4 · ~6 minutes</p>
        <p style="color:#888;font-size:0.6em;margin-top:2em;">Your module library is growing. Let's make sure it stays clean.</p>
    </div>
</section>


</div></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/reveal.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/plugin/highlight/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/plugin/notes/notes.min.js"></script>
<script>
Reveal.initialize({
    hash: true, slideNumber: 'c/t', showSlideNumber: 'all',
    width: 1280, height: 720, margin: 0.04,
    transition: 'slide', transitionSpeed: 'default', backgroundTransition: 'fade',
    plugins: [ RevealHighlight, RevealNotes ],
});
</script>
</body>
</html>